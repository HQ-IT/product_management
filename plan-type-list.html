<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>프로젝트 일정 관리</title>

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/bootstrap.css">

    <link rel="stylesheet" href="assets/vendors/simple-datatables/style.css">

    <link rel="stylesheet" href="assets/vendors/perfect-scrollbar/perfect-scrollbar.css">
    <link rel="stylesheet" href="assets/vendors/bootstrap-icons/bootstrap-icons.css">
    <link rel="stylesheet" href="assets/css/app.css">
    <link rel="shortcut icon" href="assets/images/favicon.svg" type="image/x-icon">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css" />
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.css" />
 	<style>
	#main{
	    margin-left: 0px;
	    margin-top: -10px;
	}
	#header{
	    width: 100%;
	    height: 60px;
	    background-color: black;
	    text-align: center;
	}
	.sidebar-link{
	    color: white;
	    font-size: 18px;
	    text-align: center;
	}
	.sidebar-item{
	    height: auto;
	    padding: 16px 20px;
	    position: relative;
	}
	ul{
	    display: table;
	    margin-left: auto;
	    margin-right: auto;
	    padding-left: 0;
	}
	ul li{
	    list-style: none;
	}
	.sidebar-item{
	    float: left;
	    text-align: center;
	}
	.submenu{
	    background-color: white;
	    width: 100%;
	    border-radius: 3px;
	    padding: 5px;
	    margin-top: 5px;
	   	z-index:1;
	    position: absolute;	    
	}
	.submenu-item{
	    padding: 5px;
	}
	.submenu-item a{
	    color: black;
	    text-decoration: none;
	    font-size: 15px;
	}
	.submenu-item a:hover{
	    color: darkgray;
	}
	.has-sub .sidebar-link:after {
	    content: '\25BD';
	    color: #ccc;
	}
	
	
	</style>   
</head>

<body>
    <div id="app">
        <div id="header">
            <ul class="menu" style="height: 100%;list-style: none;">
                <li class="sidebar-item">
                    <a href="index.html" class='sidebar-link'>
                        <i class="bi bi-stack"></i>
                        <span>Dashboard</span>
                    </a>
                </li>
                <li class="sidebar-item">
                    <a href="project_main.html" class='sidebar-link'>
                        <i class="bi bi-stack"></i>
                        <span>프로젝트</span>
                    </a>
                </li>
                <li class="sidebar-item  has-sub">
                    <a href="#" class='sidebar-link'>
                        <i class="bi bi-stack"></i>
                        <span>데이터 관리</span>
                    </a>
 					<ul class="submenu " style="display: none;">
                        <li class="submenu-item ">
                            <a href="type-master-mgr.html">일정 타입 관리</a>
                        </li>
                        <li class="submenu-item ">
                            <a href="Activity-master-mgr.html">Activity 관리</a>
                        </li>
                        <li class="submenu-item ">
                            <a href="plan-type-list.html">타입별 Activity 관리</a>
                        </li>
                        <li class="submenu-item ">
                            <a href="plan-by-brand.html">개발 일정 관리</a>
                        </li>
                         <li class="submenu-item ">
                            <a href="manager-mgr.html">담당자 관리</a>
                        </li>                       
                        <li class="submenu-item ">
                            <a href="act-type-mgr.html">데이터 타입 관리</a>
                        </li>
                    </ul>
                </li>
                <li class="sidebar-item">
                    <a href="index.html" class='sidebar-link'>
                        <i class="bi bi-stack"></i>
                        <span>설정</span>
                    </a>
                </li>
                
            </ul>
        </div>
        <div id="main">
            <header class="mb-3">
                <a href="#" class="burger-btn d-block d-xl-none">
                    <i class="bi bi-justify fs-3"></i>
                </a>
            </header>

            <div class="page-heading">
                <div class="page-title">
                    <div class="row">
                        <div class="col-12 col-md-6 order-md-1 order-last">
                            <h3>타입별 Activity 관리</h3>
                            <p class="text-subtitle text-muted">타입별 Activity를 등록하고 수정합니다.</p>
                        </div>
                        <div class="col-12 col-md-6 order-md-2 order-first">
                            <nav aria-label="breadcrumb" class="breadcrumb-header float-start float-lg-end">
                                <ol class="breadcrumb">
                                    <li class="breadcrumb-item">데이터 관리</li>
                                    <li class="breadcrumb-item active" aria-current="page">제품 일정 유형 관리</li>
                                </ol>
                            </nav>
                        </div>
                    </div>
                </div>
                <section class="section">
                    <div class="card">
                        <div class="card-body">
                            <table class="table table-striped" id="table1">
                                <thead>
                                    <tr onclick="selectRow(this)" ondblclick="openDetails(this)">
                                        <th>순번</th>
                                        <th>일정 코드</th>
                                        <th>일정 타입</th>
                                        <th>리비전</th>
                                        <th>비고</th>
                                        <th>활성화</th>
                                        <th>등록자</th>
                                        <th>등록일</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr onclick="selectRow(this)" ondblclick="openDetails(this)">
                                        <td class="center">1</td>
                                        <td class="center">Type001</td>
                                        <td class="center">프로젝트 진행</td>
                                        <td class="center">v1</td>
                                        <td></td>
                                        <td class="center"><span class="badge bg-danger">Inactive</span></td>
                                        <td class="center">홍길동</td>
                                        <td class="center">2021-02-01</td>
                                    </tr>
                                    <tr onclick="selectRow(this)" ondblclick="openDetails(this)">
                                        <td class="center">2</td>
                                        <td class="center">Type001</td>
                                        <td class="center">프로젝트 진행</td>
                                        <td class="center">v2</td>
                                        <td>2021년 이후</td>
                                        <td class="center"><span class="badge bg-success">Active</span></td>
                                        <td class="center">홍길동</td>
                                        <td class="center">2021-04-02</td>
                                    </tr>
                                    <tr onclick="selectRow(this)" ondblclick="openDetails(this)">
                                        <td class="center">3</td>
                                        <td class="center">Type002</td>
                                        <td class="center">제품디자인</td>
                                        <td class="center">v1</td>
                                        <td></td>
                                        <td class="center"><span class="badge bg-danger">Inactive</span></td>
                                        <td class="center">김길동</td>
                                        <td class="center">2021-03-20</td>
                                    </tr>
                                    <tr onclick="selectRow(this)" ondblclick="openDetails(this)">
                                        <td class="center">4</td>
                                        <td class="center">Type003</td>
                                        <td class="center">기구설계</td>
                                        <td class="center">v1</td>
                                        <td></td>
                                        <td class="center"><span class="badge bg-danger">Inactive</span></td>
                                        <td class="center">박길동</td>
                                        <td class="center">2021-01-20</td>
                                    </tr>
                                    <tr onclick="selectRow(this)" ondblclick="openDetails(this)">
                                        <td class="center">5</td>
                                        <td class="center">Type003</td>
                                        <td class="center">기구설계</td>
                                        <td class="center">v2</td>
                                        <td></td>
                                        <td class="center"><span class="badge bg-success">Active</span></td>
                                        <td class="center">박길동</td>
                                        <td class="center">2021-01-25</td>
                                    </tr>
                                    <tr onclick="selectRow(this)" ondblclick="openDetails(this)">
                                        <td class="center">6</td>
                                         <td class="center">Type003</td>
                                        <td class="center">기구설계</td>
                                        <td class="center">v3</td>
                                        <td></td>
                                        <td class="center"><span class="badge bg-danger">Inactive</span></td>
                                        <td class="center">박길동</td>
                                        <td class="center">2021-02-02</td>
                                    </tr>
                                    <tr onclick="selectRow(this)" ondblclick="openDetails(this)">
                                        <td class="center">7</td>
                                        <td class="center">Type003</td>
                                        <td class="center">기구설계</td>
                                        <td class="center">v4</td>
                                        <td></td>
                                        <td class="center"><span class="badge bg-success">Active</span></td>
                                        <td class="center">박길동</td>
                                        <td class="center">2021-02-03</td>
                                    </tr>
                                    <tr onclick="selectRow(this)" ondblclick="openDetails(this)">
                                        <td class="center">8</td>
                                        <td class="center">Type003</td>
                                        <td class="center">기구설계</td>
                                        <td class="center">v5</td>
                                        <td>갤럭시 S22 전용</td>
                                        <td class="center"><span class="badge bg-success">Active</span></td>
                                        <td class="center">박길동</td>
                                        <td class="center">2021-02-04</td>
                                    </tr>
                                    <tr onclick="selectRow(this)" ondblclick="openDetails(this)">
                                        <td class="center">9</td>
                                        <td class="center">Type004</td>
                                        <td class="center">제품스펙</td>
                                        <td class="center">v1</td>
                                        <td></td>
                                        <td class="center"><span class="badge bg-success">Active</span></td>
                                        <td class="center">최길동</td>
                                        <td class="center">2021-02-04</td>
                                    </tr>
                                    <tr onclick="selectRow(this)" ondblclick="openDetails(this)">
                                        <td class="center">10</td>
                                        <td class="center">Type004</td>
                                        <td class="center">제품스펙</td>
                                        <td class="center">v2</td>
                                        <td></td>
                                        <td class="center"><span class="badge bg-success">Active</span></td>
                                        <td class="center">최길동</td>
                                        <td class="center">2021-02-07</td>
                                    </tr>
                                    <tr onclick="selectRow(this)" ondblclick="openDetails(this)">
                                        <td class="center">11</td>
                                        <td class="center">Type005</td>
                                        <td class="center">생산일정 </td>
                                        <td class="center">v1</td>
                                        <td></td>
                                        <td class="center"><span class="badge bg-success">Active</span></td>
                                        <td class="center">최길동</td>
                                        <td class="center">2021-04-27</td>
                                    </tr>
                                </tbody>
                            </table>
                			<div style="margin-top: 5px;text-align: right;width: 50%;float: right;">
								<button type="button" id="deleteBtn" class="btn btn-danger btn-sm" onclick="deleteRow()" disabled="disabled"><i class="fa fa-trash"></i> 삭제</button>
								<button type="button" id="updateBtn" class="btn btn-warning btn-sm" onclick="updateRow()" disabled="disabled" ><i class="fa fa-wrench"></i> 수정</button>
								<button type="button" id="saveBtn" class="btn btn-success btn-sm" onclick="saveRow()" ><i class="fa fa-upload"></i> 등록</button>
			        		</div>                          
                        </div>
                    </div>

                </section>
            </div>
            <footer>
                <div class="footer clearfix mb-0 text-muted">
                    <div class="float-start">
                        <p>2021 &copy; Mazer</p>
                    </div>
                    <div class="float-end">
                        <p>Crafted with <span class="text-danger"><i class="bi bi-heart"></i></span> by <a
                                href="http://ahmadsaugi.com">A. Saugi</a></p>
                    </div>
                </div>
            </footer>
        </div>
    </div>
    <script src="assets/vendors/perfect-scrollbar/perfect-scrollbar.min.js"></script>
    <script src="assets/js/bootstrap.bundle.min.js"></script>
	<script src="https://code.jquery.com/jquery-latest.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.js"></script>

    <script src="assets/vendors/simple-datatables/simple-datatables.js"></script>
    <script>
        // Simple Datatable
        let table1 = document.querySelector('#table1');
        let dataTable = new simpleDatatables.DataTable(table1);

    	
    	function addRow(flag){
    		
    		var htmlText = '';

	   		htmlText +='<tr class="new">';
	   		htmlText +='<td>8</td>';
	   		htmlText +='<td><input type="text" class="form-control" name="planName" value=""></td>';
	   		htmlText +='<td>';
	   		htmlText +='<select name="dataType" class="form-select" onchange="dataTypeSelect(this)">';
	   		htmlText +='<option value="" selected="selected">선택없음</option>';
	   		htmlText +='<option value="t">Text</option>';
	        htmlText +='<option value="n">Number</option>';
	        htmlText +='<option value="d">Date</option>';
	        htmlText +='<option value="y">Y/N</option>';
	        htmlText +='<option value="f">File</option>';
	        htmlText +='<option value="c">Price</option>';
	        htmlText +='<option value="e">Etc.</option>';
	        htmlText +='</select>';
	        htmlText +='</td>';
	        htmlText +='<td name="chgDetails">';
	        htmlText +='<td>';
	        htmlText +='<span class="badge bg-success">Active</span>';
	        htmlText +='</td>';
	        htmlText +='</tr>';

   			$("#table1").append(htmlText);
    	}

    	function deleteRow(){
    		
    		var brand=$(currentSelector).children().eq(1).text();
    		var project=$(currentSelector).children().eq(2).text();
    		
    		if(confirm("선택하신 일정 [" + brand + "_" + project+ "]을 정말 삭제하시겠습니까?")){
    			$(currentSelector).children().eq(5).children().removeClass("bg-success");
    			$(currentSelector).children().eq(5).children().addClass("bg-danger");
    			$(currentSelector).children().eq(5).children().text("Inactive");
   	    		alert("비활성화 처리 완료되었습니다.");
    		}
    		
    	}
    	
    	function saveRow(){
    		
    		var url = "plan-type-mgr.html";

    		location.href = url;
    	}
    	
    	function updateRow(){
    		
    		var url = "plan-type-upd.html";

    		location.href = url;
    	}
    	
    	var currentSelector = null;
    	function selectRow(obj){
    		
    		$('#updateBtn').prop("disabled",false);
    		$('#deleteBtn').prop("disabled",false);
    		
    		$(obj).css('background-color', '#ffffd9');
    		
    		if(currentSelector != null && currentSelector != obj){
    			$(currentSelector).css('background-color','');
    		}
    		currentSelector = obj;
    	}	
    	
    	
    	function openDetails(obj){
    		
    		var width = 850;
    		var height = 500;
    	    var left = Math.ceil(( window.screen.width - width )/2);
    	    var top = Math.ceil(( window.screen.height - height )/2);
    	    
    		var settings = "toolbar=0, ststus=0, menubar=0, scrollbars=no, height="+ height + ", width=" + width+ ", left=" + left + ", top=" + top;
    		var url = "planDetailModal.html";
    		popup = window.open(url, "일정 상세", settings);
    		
    		
    	}
    </script>

    <script src="assets/js/main.js"></script>
</body>

</html>